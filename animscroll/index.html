<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
section {
  height: 100px;
  width: 150px;
  margin: 0 auto;
  padding: 1px;
}
.item {
  background: red;
  width: 100px;
  height: 100px;
  border-radius: 50%;
  transition: margin-top 2s ease-out;
  margin-left: auto;
  margin-right: auto;
}
</style>
</head>
<body>

<section></section>
<section></section>
<section></section>
<section></section>
<section></section>
<section></section>
<section style="background: yellow"><div class="item"></div></section>
<section></section>
<section style="background: yellow"><div class="item"></div></section>
<section></section>
<section style="background: yellow"><div class="item"></div></section>
<section></section>
<section style="background: yellow"><div class="item"></div></section>
<section></section>
<section style="background: yellow"><div class="item"></div></section>
<section></section>
<section style="background: yellow"><div class="item"></div></section>
<section></section>
<section style="background: yellow"><div class="item"></div></section>
<section></section>
<section></section>
<section></section>
<section></section>
<section></section>
<section></section>
<section></section>


<script>
function updateItemOffset(itemElem, scrollPosMid) {
  var maxOffset = 50;
  var curItemOffset = Number(itemElem.style.marginTop.replace('px', ''));
  var curItemPos = itemElem.offsetTop - curItemOffset;
  var newItemOffset = scrollPosMid - curItemPos;
  if (maxOffset < newItemOffset) {
    newItemOffset = maxOffset;
  } else if (-maxOffset > newItemOffset) {
    newItemOffset = -maxOffset;
  }
  itemElem.style.marginTop = newItemOffset + 'px';
}
function triggerScrollAnim() {
  var itemElems = document.getElementsByClassName('item');
  var scrollPosMid = window.scrollY + (0.5 * window.innerHeight);
  for (var i = 0; itemElems.length > i; i++) {
    updateItemOffset(itemElems[i], scrollPosMid);
  }
}
function initScrollAnim() {
  triggerScrollAnim();
  window.setInterval(triggerScrollAnim, 1000);
}
window.addEventListener('load', initScrollAnim());
</script>

</body>
</html>
